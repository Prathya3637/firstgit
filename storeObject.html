<!DOCTYPE html>
<html>
     <head>
          <link rel="shortcut icon" href="#">
          <style>
               h1 {
                    text-align: center;
                    border: solid 3px grey;
               }
               #userDetails {
                    margin-top: 20px;
               }
               .userContainer {
                    margin-bottom: 10px;
               }
          </style>
     </head>
     <body>
          <h1>Store, Display, and Delete User Details</h1>
          <form id="myForm" autocomplete="off">
               <label for="name">Name:</label>
               <input type="text" id="name" name="name" required>
               <label for="age">Age:</label>
               <input type="number" id="age" name="age" required>
               <label for="city">City:</label>
               <input type="text" id="city" name="city" required>
               <button type="submit">Submit</button>
          </form>
          <div id="userDetails"></div>

          <script>
               const formName = document.getElementById('myForm');
               const userDetailsContainer = document.getElementById('userDetails');

               formName.addEventListener('submit', addUsers);

               function addUsers(event) {
                    event.preventDefault();

                    const userName = event.target.elements.name.value;
                    const userAge = event.target.elements.age.value;
                    const userCity = event.target.elements.city.value;

                    const newUser = {
                         name: userName,
                         age: userAge,
                         city: userCity
                    };

                    const existingUserDataString = localStorage.getItem('userList');

                    const existingUserData = existingUserDataString ? JSON.parse(existingUserDataString) : [];

                    existingUserData.push(newUser);

                    localStorage.setItem('userList', JSON.stringify(existingUserData));

                    displayUserDetails(existingUserData);

                    alert('User details stored successfully!');

                    formName.reset();
               }

               function displayUserDetails(userList) {
                    userDetailsContainer.innerHTML = '';

                    userList.forEach((user, index) => {
                         const userDiv = document.createElement('div');
                         userDiv.classList.add('userContainer');
                         userDiv.textContent = `Name: ${user.name}, Age: ${user.age}, City: ${user.city}`;

                         const deleteButton = document.createElement('button');
                         deleteButton.textContent = 'Delete';

                         deleteButton.addEventListener('click', () => {
                              deleteUser(index, userList);
                         });

                         userDiv.appendChild(deleteButton);
                         userDetailsContainer.appendChild(userDiv);
                    });
               }

               function deleteUser(index, userList) {
                    userList.splice(index, 1);
                    localStorage.setItem('userList', JSON.stringify(userList));
                    displayUserDetails(userList);
               }

               // Initial display when the page loads
               const initialUserDataString = localStorage.getItem('userList');
               const initialUserData = initialUserDataString ? JSON.parse(initialUserDataString) : [];
               displayUserDetails(initialUserData);
          </script>
     </body>
</html>
